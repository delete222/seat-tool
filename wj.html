<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®²è§£æœåŠ¡è´¨é‡åˆ†æçœ‹æ¿</title>
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- å¼•å…¥ PropTypes (ä¿®å¤ 'oneOfType' é”™è¯¯çš„å…³é”®) -->
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM (é”å®šç‰ˆæœ¬) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Recharts (é”å®šç‰ˆæœ¬) -->
    <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
    
    <!-- å¼•å…¥ Babel ç”¨äºè§£æ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; background-color: #f8fafc; }
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- 1. å…¨å±€å˜é‡è§£æ„ ---
        const { useState, useMemo } = React;
        // ç¡®ä¿ Recharts å¯¹è±¡å­˜åœ¨
        const RechartsLib = window.Recharts || {};
        const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip: RechartsTooltip, ResponsiveContainer, Cell } = RechartsLib;

        // --- 2. å›¾æ ‡ç»„ä»¶ (SVG) ---
        // æ‰‹åŠ¨å®šä¹‰å›¾æ ‡ä»¥é¿å… CDN ä¾èµ–é—®é¢˜
        const IconMessageSquare = ({ size = 24, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
        );
        const IconStar = ({ size = 24, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
        );
        const IconTrendingUp = ({ size = 24, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>
        );
        const IconAward = ({ size = 24, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>
        );
        const IconGrid3X3 = ({ size = 24, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="3" y1="15" x2="21" y2="15"></line><line x1="9" y1="3" x2="9" y2="21"></line><line x1="15" y1="3" x2="15" y2="21"></line></svg>
        );
        const IconArrowUpRight = ({ size = 24, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
        );

        // --- 3. åŸå§‹æ•°æ® (å·²æ›´æ–°å§“å) ---
        const RAW_DATA = [
            { id: "1", q1: 5, q2: 3, q3: 3, q4: 4, q5: 2, q6: 3, q7: 2, q8: 3, q9: "", q10: "æ²¡æœ‰äº’åŠ¨å°±æ˜¯ç…§æœ¬å®£ç§‘", guide: "ç¨‹è´ºå—" },
            { id: "2", q1: 4, q2: 4, q3: 4, q4: 4, q5: 4, q6: 3, q7: 4, q8: 4, q9: "", q10: "", guide: "ç¨‹è´ºå—" },
            { id: "3", q1: 4, q2: 3, q3: 4, q4: 3, q5: 3, q6: 2, q7: 4, q8: 4, q9: "", q10: "", guide: "ç¨‹è´ºå—" },
            { id: "4", q1: 4, q2: 4, q3: 4, q4: 4, q5: 3, q6: 3, q7: 3, q8: 4, q9: "è®²è§£è¯å¾ˆç†Ÿæ‚‰", q10: "å¢åŠ ä¸ªäººç†è§£ä¸å®¢æˆ·äº’åŠ¨", guide: "ç¨‹è´ºå—" },
            { id: "5", q1: 5, q2: 5, q3: 4, q4: 5, q5: 4, q6: 5, q7: 5, q8: 5, q9: "", q10: "", guide: "ç¨‹è´ºå—" },
            { id: "6", q1: 5, q2: 3, q3: 4, q4: 4, q5: 2, q6: 5, q7: 3, q8: 3, q9: "æ•°æ®ä»‹ç»çš„å¤šï¼Œå†…å®¹é¥±æ»¡æ‰å®", q10: "é¿å…ç…§æœ¬å®£ç§‘ï¼Œä»‹ç»å†…å®¹è‡ªä¿¡äº›ï¼Œæœ‰ç‚¹ç´§å¼ ã€‚", guide: "ç¨‹è´ºå—" },
            { id: "7", q1: 4, q2: 3, q3: 3, q4: 4, q5: 3, q6: 4, q7: 3, q8: 3, q9: "åŸºç¡€è®²è§£è¯èƒŒçš„å¾ˆç†Ÿæ‚‰", q10: "è¯­éŸ³è¯­è°ƒå’Œè®²è§£ç¤¼ä»ª", guide: "ç¨‹è´ºå—" },
            { id: "8", q1: 5, q2: 5, q3: 5, q4: 5, q5: 4, q6: 5, q7: 5, q8: 5, q9: "è¯­éŸ³è¯­é€Ÿè¯­è°ƒéå¸¸ä¸“ä¸š", q10: "", guide: "å¯‡ä½³ä¼Ÿ" },
            { id: "9", q1: 4, q2: 5, q3: 5, q4: 4, q5: 5, q6: 4, q7: 5, q8: 5, q9: "", q10: "é‹æ²¡æ¢", guide: "å¯‡ä½³ä¼Ÿ" },
            { id: "10", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "", q10: "", guide: "å¯‡ä½³ä¼Ÿ" },
            { id: "11", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 4, q8: 5, q9: "å•†åŠ¡ç¤¼ä»ªæä½³", q10: "å¯¹å…¬å¸èƒŒæ™¯å’Œå±•é™ˆæŒç»­äº†è§£", guide: "å¯‡ä½³ä¼Ÿ" },
            { id: "12", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "", q10: "", guide: "å¯‡ä½³ä¼Ÿ" },
            { id: "13", q1: 4, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "éŸ³è‰²å’Œè¯­æ°”å¾ˆå¥½ï¼Œä¸€äº›è¿‡åº¦å’ŒæŒ‡å¼•å¾ˆå¥½", q10: "ä¸“ä¸šåè¯", guide: "å¯‡ä½³ä¼Ÿ" },
            { id: "14", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "", q10: "", guide: "å¼ ç¾½" },
            { id: "15", q1: 5, q2: 4, q3: 5, q4: 4, q5: 4, q6: 5, q7: 4, q8: 4, q9: "", q10: "", guide: "å¼ ç¾½" },
            { id: "16", q1: 3, q2: 4, q3: 4, q4: 3, q5: 3, q6: 4, q7: 3, q8: 4, q9: "æ•´ä½“ä½“æ€å¾ˆå¥½", q10: "è¯­éŸ³è¯­é€Ÿè¯­è°ƒæœ‰å¾…æé«˜", guide: "å¼ ç¾½" },
            { id: "17", q1: 5, q2: 5, q3: 5, q4: 4, q5: 5, q6: 5, q7: 4, q8: 5, q9: "", q10: "", guide: "å¼ ç¾½" },
            { id: "18", q1: 5, q2: 4, q3: 5, q4: 4, q5: 3, q6: 5, q7: 4, q8: 5, q9: "çŠ¶æ€å¥½ï¼Œå£°éŸ³ç”œç¾ï¼Œè¡¨æ³•è¾¾è‡ªç„¶", q10: "å¯ä»¥ä¸“ä¸šä¸€ç‚¹", guide: "å¼ ç¾½" },
            { id: "19", q1: 5, q2: 4, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "å¯¹äº§å“æœ‰è‡ªå·±çš„ç†è§£ï¼Œæ¯”å¦‚ç™¾åº¦ä¼è°‹ï¼Œä»¥æ™ºå–èƒœ", q10: "æœ‰äº›å°ç´§å¼ ", guide: "å¼ ç¾½" },
            { id: "20", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "", q10: "", guide: "å­”å¾·é¦¨" },
            { id: "21", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "å’Œå®¢æˆ·æœ‰äº¤æµå’Œäº’åŠ¨ï¼Œç”¨é€šä¿—æ˜“æ‡‚çš„è¯ä»‹ç»ï¼Œå¾ˆå¥½", q10: "", guide: "å­”å¾·é¦¨" },
            { id: "22", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "å¤ªå‰å®³å•¦ï¼æ¸¸åˆƒæœ‰ä½™ï¼ğŸ¤©", q10: "", guide: "å­”å¾·é¦¨" },
            { id: "23", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "", q10: "", guide: "å­”å¾·é¦¨" },
            { id: "24", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "å®Œç¾", q10: "å¤ªå®Œç¾", guide: "å­”å¾·é¦¨" },
            { id: "25", q1: 5, q2: 5, q3: 5, q4: 5, q5: 5, q6: 5, q7: 5, q8: 5, q9: "çŸ¥è¯†é¢å¹¿ æ¸¸åˆƒæœ‰ä½™", q10: "", guide: "å­”å¾·é¦¨" },
        ];

        const QUESTIONS = {
            q1: "ä¸“ä¸šçŸ¥è¯†",
            q2: "è¡¨è¾¾èƒ½åŠ›",
            q3: "æœåŠ¡æ€åº¦",
            q4: "è®²è§£èŠ‚å¥",
            q5: "å®ç”¨è¶£å‘³",
            q6: "ä»ªå®¹ä»ªè¡¨",
            q7: "äº’åŠ¨æ€§",
            q8: "æ•´ä½“æ»¡æ„åº¦"
        };

        // --- 4. ç»„ä»¶å®šä¹‰ ---
        const Card = ({ title, value, subtext, icon: Icon, colorClass }) => (
            <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-start justify-between">
                <div>
                <p className="text-slate-500 text-sm font-medium mb-1">{title}</p>
                <h3 className="text-2xl font-bold text-slate-800">{value}</h3>
                {subtext && <p className="text-slate-400 text-xs mt-2">{subtext}</p>}
                </div>
                <div className={`p-3 rounded-lg ${colorClass}`}>
                <Icon size={24} className="text-white" />
                </div>
            </div>
        );

        const getScoreColor = (score) => {
            if (score >= 4.8) return 'bg-emerald-500 text-white border-emerald-600'; // å“è¶Š
            if (score >= 4.5) return 'bg-emerald-400 text-white border-emerald-500'; // ä¼˜ç§€
            if (score >= 4.0) return 'bg-emerald-300 text-emerald-900 border-emerald-400'; // è‰¯å¥½
            if (score >= 3.5) return 'bg-amber-200 text-amber-900 border-amber-300'; // ä¸­ç­‰
            if (score >= 3.0) return 'bg-amber-300 text-amber-900 border-amber-400'; // åŠæ ¼
            return 'bg-red-400 text-white border-red-500'; // è­¦ç¤º
        };

        // --- 5. ä¸»åº”ç”¨é€»è¾‘ ---
        function App() {
            const [selectedGuide, setSelectedGuide] = useState("ALL");

            // æ•°æ®å¤„ç†é€»è¾‘
            const stats = useMemo(() => {
                const guideStats = {};
                let totalScore = 0;
                let count = 0;

                RAW_DATA.forEach(row => {
                if (!guideStats[row.guide]) {
                    guideStats[row.guide] = {
                    name: row.guide,
                    count: 0,
                    total: 0,
                    scores: { q1:0, q2:0, q3:0, q4:0, q5:0, q6:0, q7:0, q8:0 },
                    comments: []
                    };
                }
                
                const guide = guideStats[row.guide];
                guide.count += 1;
                
                // ç´¯åŠ å„é¡¹åˆ†æ•°
                Object.keys(QUESTIONS).forEach(key => {
                    guide.scores[key] += row[key];
                });

                // æ•´ä½“å‡åˆ†è®¡ç®—
                const rowAvg = Object.keys(QUESTIONS).reduce((acc, key) => acc + row[key], 0) / 8;
                guide.total += rowAvg;

                // æ”¶é›†è¯„è®º
                if (row.q9 || row.q10) {
                    guide.comments.push({
                    pos: row.q9,
                    neg: row.q10,
                    id: row.id
                    });
                }

                totalScore += rowAvg;
                count++;
                });

                // è®¡ç®—å¹³å‡å€¼
                const guides = Object.values(guideStats).map(g => {
                const avgs = {};
                Object.keys(g.scores).forEach(k => {
                    avgs[k] = parseFloat((g.scores[k] / g.count).toFixed(2));
                });
                return {
                    ...g,
                    avgScores: avgs,
                    finalScore: parseFloat((g.total / g.count).toFixed(2))
                };
                });

                return {
                guides,
                overallAvg: count > 0 ? (totalScore / count).toFixed(2) : 0,
                totalReviews: count
                };
            }, []);

            // å›¾è¡¨æ•°æ®å‡†å¤‡
            const barData = stats.guides.map(g => ({
                name: g.name,
                score: g.finalScore,
                count: g.count
            })).sort((a, b) => b.score - a.score);

            const filteredComments = selectedGuide === "ALL" 
                ? stats.guides.flatMap(g => g.comments.map(c => ({...c, guide: g.name}))) 
                : stats.guides.find(g => g.name === selectedGuide)?.comments.map(c => ({...c, guide: selectedGuide})) || [];
            
            // å®‰å…¨æ£€æŸ¥ï¼šå¦‚æœ Recharts åŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤ºå‹å¥½æç¤º
            if (!BarChart) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-slate-50 p-6 text-center">
                        <div className="bg-white p-8 rounded-xl shadow-md border border-red-100 max-w-md">
                            <h2 className="text-xl font-bold text-red-600 mb-4">å›¾è¡¨ç»„ä»¶åŠ è½½å¤±è´¥</h2>
                            <p className="text-slate-600">è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ï¼Œå› ä¸ºæœ¬é¡µé¢éœ€è¦ä» unpkg.com åŠ è½½ React å’Œ Recharts åº“ã€‚</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-slate-50 p-6 font-sans text-slate-800">
                <div className="max-w-7xl mx-auto space-y-6">
                    
                    {/* Header */}
                    <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
                    <div>
                        <h1 className="text-3xl font-bold text-slate-900">è®²è§£æœåŠ¡è´¨é‡åˆ†æçœ‹æ¿</h1>
                        <p className="text-slate-500 mt-1">åŸºäº {stats.totalReviews} ä»½æœ‰æ•ˆé—®å·ç”Ÿæˆçš„å®æ—¶ç»Ÿè®¡</p>
                    </div>
                    <div className="flex gap-2">
                        <select 
                        className="px-4 py-2 border border-slate-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                        value={selectedGuide}
                        onChange={(e) => setSelectedGuide(e.target.value)}
                        >
                        <option value="ALL">å…¨éƒ¨è®²è§£å‘˜</option>
                        {stats.guides.map(g => <option key={g.name} value={g.name}>{g.name}</option>)}
                        </select>
                    </div>
                    </div>

                    {/* Key Metrics */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <Card 
                        title="æ•´ä½“å¹³å‡æ»¡æ„åº¦" 
                        value={stats.overallAvg} 
                        subtext="æ»¡åˆ† 5.0" 
                        icon={IconStar} 
                        colorClass="bg-blue-500" 
                    />
                    <Card 
                        title="æ€»å‚è¯„æ¬¡æ•°" 
                        value={stats.totalReviews} 
                        subtext="æ¶µç›–4ä½è®²è§£å‘˜" 
                        icon={IconMessageSquare} 
                        colorClass="bg-indigo-500" 
                    />
                    <Card 
                        title="æœ€ä½³è¡¨ç°" 
                        value={barData[0]?.name} 
                        subtext={`å¾—åˆ†: ${barData[0]?.score}`} 
                        icon={IconAward} 
                        colorClass="bg-amber-500" 
                    />
                    <Card 
                        title="ä¸»è¦å¾…æå‡ç‚¹" 
                        value="è¶£å‘³æ€§ä¸äº’åŠ¨" 
                        subtext="å…¨å‘˜å‡åˆ†æœ€ä½é¡¹" 
                        icon={IconTrendingUp} 
                        colorClass="bg-emerald-500" 
                    />
                    </div>

                    {/* Charts Section */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    {/* Heatmap */}
                    <div className="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col">
                        <h2 className="text-lg font-bold mb-4 flex items-center gap-2">
                        <IconGrid3X3 size={20} className="text-blue-500"/> 
                        å„ç»´åº¦èƒ½åŠ›å¾—åˆ†çŸ©é˜µ (çƒ­åŠ›å›¾)
                        </h2>
                        <div className="flex-1 overflow-x-auto flex items-center">
                        <div className="min-w-[600px] w-full">
                            {/* Heatmap Header */}
                            <div className="grid grid-cols-9 gap-2 mb-2">
                            <div className="text-xs font-bold text-slate-400 uppercase tracking-wider flex items-end p-2">è®²è§£å‘˜</div>
                            {Object.values(QUESTIONS).map(q => (
                                <div key={q} className="text-xs font-bold text-slate-500 text-center bg-slate-50 rounded p-2 flex items-center justify-center h-full">
                                {q.replace("èƒ½åŠ›", "").replace("è®²è§£", "").replace("æ•´ä½“", "")}
                                </div>
                            ))}
                            </div>
                            
                            {/* Heatmap Rows */}
                            {stats.guides.map(guide => (
                            <div key={guide.name} className="grid grid-cols-9 gap-2 mb-2 items-stretch group">
                                <div className="text-sm font-semibold text-slate-700 flex items-center p-2 bg-slate-50 rounded-lg group-hover:bg-slate-100 transition-colors">
                                {guide.name}
                                </div>
                                {Object.keys(QUESTIONS).map(key => {
                                const score = guide.avgScores[key];
                                return (
                                    <div 
                                    key={key} 
                                    className={`
                                        h-12 flex flex-col items-center justify-center rounded-lg border-b-2 transition-all 
                                        hover:scale-105 cursor-default shadow-sm
                                        ${getScoreColor(score)}
                                    `}
                                    title={`${guide.name} - ${QUESTIONS[key]}: ${score}`}
                                    >
                                    <span className="text-sm font-bold">{score.toFixed(1)}</span>
                                    </div>
                                )
                                })}
                            </div>
                            ))}
                        </div>
                        </div>
                        {/* Legend */}
                        <div className="mt-4 flex flex-wrap gap-4 text-xs text-slate-500 justify-end items-center">
                        <div className="flex items-center gap-1"><div className="w-3 h-3 bg-emerald-500 rounded"></div> å“è¶Š (4.8+)</div>
                        <div className="flex items-center gap-1"><div className="w-3 h-3 bg-emerald-400 rounded"></div> ä¼˜ç§€ (4.5+)</div>
                        <div className="flex items-center gap-1"><div className="w-3 h-3 bg-emerald-300 rounded"></div> è‰¯å¥½ (4.0+)</div>
                        <div className="flex items-center gap-1"><div className="w-3 h-3 bg-amber-200 rounded"></div> ä¸­ç­‰ (3.5+)</div>
                        <div className="flex items-center gap-1"><div className="w-3 h-3 bg-red-400 rounded"></div> éœ€æ”¹è¿› (&lt;3.5)</div>
                        </div>
                    </div>

                    {/* Ranking Bar Chart */}
                    <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col">
                        <h2 className="text-lg font-bold mb-4 flex items-center gap-2">
                        <IconAward size={20} className="text-amber-500"/> 
                        ç»¼åˆè¯„åˆ†æ’å
                        </h2>
                        <div className="flex-1 w-full min-h-[300px]">
                        <ResponsiveContainer width="100%" height="100%">
                            <BarChart data={barData} layout="vertical" margin={{ top: 10, right: 30, left: 20, bottom: 10 }}>
                            <CartesianGrid strokeDasharray="3 3" horizontal={false} stroke="#f1f5f9"/>
                            <XAxis type="number" domain={[0, 5]} hide/>
                            <YAxis dataKey="name" type="category" width={60} tick={{fill: '#475569', fontWeight: 600, fontSize: 13}} axisLine={false} tickLine={false}/>
                            <RechartsTooltip 
                                cursor={{fill: '#f8fafc'}}
                                contentStyle={{borderRadius: '8px', border: 'none', boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)'}}
                            />
                            <Bar dataKey="score" radius={[0, 6, 6, 0]} barSize={36}>
                                {
                                barData.map((entry, index) => (
                                    <Cell key={`cell-${index}`} fill={index === 0 ? '#10b981' : index === barData.length - 1 ? '#ef4444' : '#6366f1'} />
                                ))
                                }
                            </Bar>
                            </BarChart>
                        </ResponsiveContainer>
                        </div>
                    </div>
                    </div>

                    {/* Feedback Table */}
                    <div className="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
                    <div className="p-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center">
                        <h2 className="text-lg font-bold flex items-center gap-2">
                        <IconMessageSquare size={20} className="text-indigo-500"/>
                        å…·ä½“è¯„ä»·ä¸å»ºè®® ({filteredComments.length}æ¡)
                        </h2>
                        <div className="text-xs text-slate-400 flex items-center gap-1">
                        <IconArrowUpRight size={14}/> ä»…æ˜¾ç¤ºæœ‰æ–‡å­—åé¦ˆçš„è®°å½•
                        </div>
                    </div>
                    <div className="overflow-x-auto">
                        <table className="w-full text-left text-sm">
                        <thead className="bg-slate-50 text-slate-500 font-medium">
                            <tr>
                            <th className="px-6 py-4 w-32">è®²è§£å‘˜</th>
                            <th className="px-6 py-4 w-1/2">å€¼å¾—è‚¯å®šçš„åœ°æ–¹ (Q9)</th>
                            <th className="px-6 py-4 w-1/2">æ”¹è¿›å»ºè®® (Q10)</th>
                            </tr>
                        </thead>
                        <tbody className="divide-y divide-slate-100">
                            {filteredComments.map((item, idx) => (
                            <tr key={idx} className="hover:bg-slate-50 transition-colors">
                                <td className="px-6 py-4 font-medium text-slate-700 align-top">
                                <span className={`inline-block px-2 py-1 rounded text-xs font-semibold ${
                                    item.guide === 'å­”å¾·é¦¨' ? 'bg-emerald-100 text-emerald-700' :
                                    item.guide === 'å¯‡ä½³ä¼Ÿ' ? 'bg-purple-100 text-purple-700' :
                                    item.guide === 'å¼ ç¾½' ? 'bg-blue-100 text-blue-700' :
                                    'bg-red-100 text-red-700'
                                }`}>
                                    {item.guide}
                                </span>
                                </td>
                                <td className="px-6 py-4 text-slate-600 align-top">
                                {item.pos ? (
                                    <div className="flex items-start gap-2 bg-emerald-50/50 p-2 rounded">
                                    <span className="mt-1.5 w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0"></span>
                                    <span className="leading-relaxed">{item.pos}</span>
                                    </div>
                                ) : <span className="text-slate-300 italic pl-2">æ— è¯„è®º</span>}
                                </td>
                                <td className="px-6 py-4 text-slate-600 align-top">
                                {item.neg ? (
                                    <div className="flex items-start gap-2 bg-amber-50/50 p-2 rounded">
                                    <span className="mt-1.5 w-1.5 h-1.5 rounded-full bg-amber-400 shrink-0"></span>
                                    <span className="leading-relaxed">{item.neg}</span>
                                    </div>
                                ) : <span className="text-slate-300 italic pl-2">æ— å»ºè®®</span>}
                                </td>
                            </tr>
                            ))}
                        </tbody>
                        </table>
                    </div>
                    </div>
                </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>